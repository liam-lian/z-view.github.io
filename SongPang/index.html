<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>宋尔~</title>

	<style type="text/css">
	@font-face {
		font-family: digit;
		src: url('digital-7_mono.ttf') format("truetype");
	}
</style>

<link href="css/default.css" type="text/css" rel="stylesheet">

<script type="text/javascript" src="js/jquery.js"></script>

</head>

<body>
	<audio autoplay>
		<source src="1.mp3" type="audio/mp3">
		您的浏览器不支持 audio 元素。
	</audio>
	<div id="mainDiv">
		<div style="background:#000; color:#FFE"></div>
		<div id="code">
			
			<span class="headifo">/**</span><br />
			<span class="space"/><span class="headifo">* To Xime </span><br />
			<span class="space"/><span class="headifo">* From 苗~</span><br />
			<span class="space"/><span class="headifo">* 2017.12.31</span><br />
			<span class="headifo"/>**/</span><br /><br />
			<span class="keyword">Xime:</span> <br /><br />
			<span class="space"/>
			
			<span class="comments">
				女神女神节呀。撒浪嘿！<br /><br /><span class="space"/>

				<span class="string">17</span>岁的这一年终于过去了呀喂，按照惯例，我依然没能和你见上一面。这一年注定将是值得纪念的一年，因为我终于成为了你的学长，不再是一个本科生小孩子了。过去的时光回想起来总有些苦涩，还好有人包容下我的乏味。我和你的相遇很奇幻，感谢一路相伴和嫌弃，嫌弃与嫌弃。想到<span class="string">18</span>岁你依然在，就很兴奋。<br /><br /><span class="space"/>

				考研之路阻且长，知道你都学胖了，我十分欣慰。<span class="string">17</span>岁的这一年足够艰难，但是桌旁的维尼对我说：<span class="string">"胖友，在不加把劲就变成死胖子了额"</span>
        。岁月催人老，回首往事知多少，到了能领证的年纪，我想自己也会越来越好。<br /><br /><span class="space"/>

				你知道，年轻的时候我偶尔还能写出点花样儿出来的，但是现在，连写几句祝福的话都要费尽周章，一入北邮深似海，从此只懂0和1。我的心意，无从说起。你看，就这几行字，写的乱七八糟，惭愧啊。<br /><br /><span class="space"/>

				无论怎样，时间总是要走，不由你留。<span class="string">愿衣襟带花，愿岁月风平</span>。宋~啊，。<br /><br /><span class="space"/>

				最后，不要在做学妹了拜托，2018和我一起来读研吧。笔芯【这个页面里面怎么打印出心图案我还没有学会，凑合下吧】
				<br /><br /><span class="space"/>
				还有，我的审美是真的差劲，选了半天颜色，怎么看都是丑的，嗯，就这样吧。我知道你不喜欢这样假装煽情的做作画风，但是怎样呢，打我奥。<br />
				<span class="endSpace"/><span class="keyword">wa~苗~</span>
			</div>
			<div style="background:#000; color:#FFE"></div>

		</div>

		<script>
			$.fn.mainDiv = function() {
				var timer=null;
				var _this=$(this);
				var str=_this.html();
      // 正则替换代码行之间添加的多个空格，不去除换行输出会有明显的停顿：实际是在输出多个空格
      str=str.replace(/(\s){2,}/g,"$1");
      var index = 0;
      $(this).html('');
      var printer = function() {
      	var args=arguments;
      	var current = str.slice(index, index+1);
            // html标签完整输出,如：<p>
            if (current == '<'){
            	index = str.indexOf('>', index) + 1;
            }
            else{
            	index++;
            }
            timer= setTimeout(args.callee,98);
            //位运算符: 根据setInterval运行奇偶次来判断是否加入下划线字符“_”，使输入效果更逼真
            if (index < str.length-1){ //打印字符倒数第2个字符开始，不加下划线字符，以防止结束符可能会多输出一下划线字符
            	_this.html(str.substring(0, index) + (index & 1 ? '_' : ''));
            }else{
            	_this.html(str.substring(0, index));
            	clearTimeout(timer);
            };
        };
        // 延迟1s开始
        setTimeout(printer,200);
    };
    $("#mainDiv").mainDiv();
</script>


</body>
</html>