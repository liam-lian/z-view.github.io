---
layout:     post
title:      python基础-基础02
date:  2017-09-21
category:   python基础
tags:   [python,python基础]
---
### 列表生成式
用来生成一个列表
```
print([x * x for x in range(1, 11)])
print([x * x for x in range(1, 11) if x % 2 == 0])
print([m + n for m in 'ABC' for n in 'XYZ'])

d = {'x': 'A', 'y': 'B', 'z': 'C' }
print([k + '=' + v for k, v in d.items()])

L = ['Hello', 'World', 'IBM', 'Apple']
print([s.lower() for s in L])
```
### 生成器generator
生成器实际上是你给他一个规则，告诉他下一个元素应该如何产生。只是告诉生成器元素的生成公式，而不会把元素帧的都放到内存里面去  
generator是可迭代的，一般使用for或者是next()来找到下一个元素    
generator有两种方式：  
- 将列表生成式的【】改成() 
```
g=(x * x for x in range(1, 11))
```
- 使用yield
```
def fib(max):
n, a, b = 0, 0, 1
while n < max:
yield b
a, b = b, a + b
n = n + 1
return 'done'
```
这样很像一个函数，但实际上他是一个generator，返回的是一个generator对象，每次调用一个next就会走到下一个yield的位置，返回的值就是b    
  
要理解generator 的工作原理，它是在for循环的过程中不断计算出下一
个元素，并在适当的条件结束for循环。对于函数改成的generator 来说，
遇到return语句或者执行到函数体最后一行语句，就是结束generator
的指令，for循环随之结束。

### 迭代器
凡是可作用于for循环的对象都是Iterable类型；
凡是可作用于next()函数的对象都是Iterator类型，它们表示一个惰性
计算的序列；
集合数据类型如list、dict、str等是Iterable但不是Iterator，不过可
以通过iter()函数获得一个Iterator对象。
Python 的for循环本质上就是通过不断调用next()函数实现的

